{"remainingRequest":"/home/user1/桌面/vue/D2AdminICE-master/node_modules/babel-loader/lib/index.js!/home/user1/桌面/vue/D2AdminICE-master/node_modules/eslint-loader/index.js??ref--13-0!/home/user1/桌面/vue/D2AdminICE-master/src/store/modules/d2admin/modules/log.js","dependencies":[{"path":"/home/user1/桌面/vue/D2AdminICE-master/src/store/modules/d2admin/modules/log.js","mtime":1557910292529},{"path":"/home/user1/桌面/vue/D2AdminICE-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/user1/桌面/vue/D2AdminICE-master/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/user1/桌面/vue/D2AdminICE-master/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import dayjs from 'dayjs';\nimport { get, toString } from 'lodash';\nimport util from '@/libs/util.js';\nexport default {\n  namespaced: true,\n  state: {\n    // 错误日志\n    list: []\n  },\n  getters: {\n    /**\n     * @description 返回现存 log (all) 的条数\n     * @param {*} state vuex state\n     */\n    length: function length(state) {\n      return state.list.length;\n    },\n\n    /**\n     * @description 返回现存 log (error) 的条数\n     * @param {*} state vuex state\n     */\n    lengthError: function lengthError(state) {\n      return state.list.filter(function (l) {\n        return l.type === 'error';\n      }).length;\n    }\n  },\n  actions: {\n    /**\n     * @description 添加一个日志\n     * @param {Object} param type {String} 类型\n     * @param {Object} param err {Error} 错误对象\n     * @param {Object} param vm {Object} vue 实例\n     * @param {Object} param info {String} 信息\n     */\n    add: function add(_ref, _ref2) {\n      var state = _ref.state,\n          rootState = _ref.rootState;\n      var type = _ref2.type,\n          err = _ref2.err,\n          vm = _ref2.vm,\n          info = _ref2.info;\n      // store 赋值\n      state.list.push(Object.assign({\n        // 记录类型\n        type: 'log',\n        // or error\n        // 信息\n        info: '',\n        // 错误对象\n        err: '',\n        // vue 实例\n        vm: '',\n        // 当前用户信息\n        user: rootState.d2admin.user.info,\n        // 当前用户的 uuid\n        uuid: util.cookies.get('uuid'),\n        // 当前的 token\n        token: util.cookies.get('token'),\n        // 当前地址\n        url: get(window, 'location.href', ''),\n        // 当前时间\n        time: dayjs().format('YYYY-M-D HH:mm:ss')\n      }, {\n        type: type,\n        err: err,\n        vm: vm,\n        info: toString(info)\n      }));\n    }\n  },\n  mutations: {\n    /**\n     * @description 清空日志\n     * @param {Object} state vuex state\n     */\n    clean: function clean(state) {\n      // store 赋值\n      state.list = [];\n    }\n  }\n};",{"version":3,"sources":["/home/user1/桌面/vue/D2AdminICE-master/src/store/modules/d2admin/modules/log.js"],"names":["dayjs","get","toString","util","namespaced","state","list","getters","length","lengthError","filter","l","type","actions","add","rootState","err","vm","info","push","Object","assign","user","d2admin","uuid","cookies","token","url","window","time","format","mutations","clean"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,EAAcC,QAAd,QAA8B,QAA9B;AACA,OAAOC,IAAP,MAAiB,gBAAjB;AAEA,eAAe;AACbC,EAAAA,UAAU,EAAE,IADC;AAEbC,EAAAA,KAAK,EAAE;AACL;AACAC,IAAAA,IAAI,EAAE;AAFD,GAFM;AAMbC,EAAAA,OAAO,EAAE;AACP;;;;AAIAC,IAAAA,MALO,kBAKCH,KALD,EAKQ;AACb,aAAOA,KAAK,CAACC,IAAN,CAAWE,MAAlB;AACD,KAPM;;AAQP;;;;AAIAC,IAAAA,WAZO,uBAYMJ,KAZN,EAYa;AAClB,aAAOA,KAAK,CAACC,IAAN,CAAWI,MAAX,CAAkB,UAAAC,CAAC;AAAA,eAAIA,CAAC,CAACC,IAAF,KAAW,OAAf;AAAA,OAAnB,EAA2CJ,MAAlD;AACD;AAdM,GANI;AAsBbK,EAAAA,OAAO,EAAE;AACP;;;;;;;AAOAC,IAAAA,GARO,4BAQ6C;AAAA,UAA7CT,KAA6C,QAA7CA,KAA6C;AAAA,UAAtCU,SAAsC,QAAtCA,SAAsC;AAAA,UAAvBH,IAAuB,SAAvBA,IAAuB;AAAA,UAAjBI,GAAiB,SAAjBA,GAAiB;AAAA,UAAZC,EAAY,SAAZA,EAAY;AAAA,UAARC,IAAQ,SAARA,IAAQ;AAClD;AACAb,MAAAA,KAAK,CAACC,IAAN,CAAWa,IAAX,CAAgBC,MAAM,CAACC,MAAP,CAAc;AAC5B;AACAT,QAAAA,IAAI,EAAE,KAFsB;AAEf;AACb;AACAM,QAAAA,IAAI,EAAE,EAJsB;AAK5B;AACAF,QAAAA,GAAG,EAAE,EANuB;AAO5B;AACAC,QAAAA,EAAE,EAAE,EARwB;AAS5B;AACAK,QAAAA,IAAI,EAAEP,SAAS,CAACQ,OAAV,CAAkBD,IAAlB,CAAuBJ,IAVD;AAW5B;AACAM,QAAAA,IAAI,EAAErB,IAAI,CAACsB,OAAL,CAAaxB,GAAb,CAAiB,MAAjB,CAZsB;AAa5B;AACAyB,QAAAA,KAAK,EAAEvB,IAAI,CAACsB,OAAL,CAAaxB,GAAb,CAAiB,OAAjB,CAdqB;AAe5B;AACA0B,QAAAA,GAAG,EAAE1B,GAAG,CAAC2B,MAAD,EAAS,eAAT,EAA0B,EAA1B,CAhBoB;AAiB5B;AACAC,QAAAA,IAAI,EAAE7B,KAAK,GAAG8B,MAAR,CAAe,mBAAf;AAlBsB,OAAd,EAmBb;AACDlB,QAAAA,IAAI,EAAJA,IADC;AAEDI,QAAAA,GAAG,EAAHA,GAFC;AAGDC,QAAAA,EAAE,EAAFA,EAHC;AAIDC,QAAAA,IAAI,EAAEhB,QAAQ,CAACgB,IAAD;AAJb,OAnBa,CAAhB;AAyBD;AAnCM,GAtBI;AA2Dba,EAAAA,SAAS,EAAE;AACT;;;;AAIAC,IAAAA,KALS,iBAKF3B,KALE,EAKK;AACZ;AACAA,MAAAA,KAAK,CAACC,IAAN,GAAa,EAAb;AACD;AARQ;AA3DE,CAAf","sourcesContent":["import dayjs from 'dayjs'\nimport { get, toString } from 'lodash'\nimport util from '@/libs/util.js'\n\nexport default {\n  namespaced: true,\n  state: {\n    // 错误日志\n    list: []\n  },\n  getters: {\n    /**\n     * @description 返回现存 log (all) 的条数\n     * @param {*} state vuex state\n     */\n    length (state) {\n      return state.list.length\n    },\n    /**\n     * @description 返回现存 log (error) 的条数\n     * @param {*} state vuex state\n     */\n    lengthError (state) {\n      return state.list.filter(l => l.type === 'error').length\n    }\n  },\n  actions: {\n    /**\n     * @description 添加一个日志\n     * @param {Object} param type {String} 类型\n     * @param {Object} param err {Error} 错误对象\n     * @param {Object} param vm {Object} vue 实例\n     * @param {Object} param info {String} 信息\n     */\n    add ({ state, rootState }, { type, err, vm, info }) {\n      // store 赋值\n      state.list.push(Object.assign({\n        // 记录类型\n        type: 'log', // or error\n        // 信息\n        info: '',\n        // 错误对象\n        err: '',\n        // vue 实例\n        vm: '',\n        // 当前用户信息\n        user: rootState.d2admin.user.info,\n        // 当前用户的 uuid\n        uuid: util.cookies.get('uuid'),\n        // 当前的 token\n        token: util.cookies.get('token'),\n        // 当前地址\n        url: get(window, 'location.href', ''),\n        // 当前时间\n        time: dayjs().format('YYYY-M-D HH:mm:ss')\n      }, {\n        type,\n        err,\n        vm,\n        info: toString(info)\n      }))\n    }\n  },\n  mutations: {\n    /**\n     * @description 清空日志\n     * @param {Object} state vuex state\n     */\n    clean (state) {\n      // store 赋值\n      state.list = []\n    }\n  }\n}\n"]}]}