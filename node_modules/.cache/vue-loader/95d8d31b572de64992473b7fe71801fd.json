{"remainingRequest":"/home/user1/桌面/vue/D2AdminICE-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/user1/桌面/vue/D2AdminICE-master/src/layouts/HeaderAside/components/header-size/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/user1/桌面/vue/D2AdminICE-master/src/layouts/HeaderAside/components/header-size/index.vue","mtime":1557910292521},{"path":"/home/user1/桌面/vue/D2AdminICE-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/user1/桌面/vue/D2AdminICE-master/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/user1/桌面/vue/D2AdminICE-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/user1/桌面/vue/D2AdminICE-master/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapState, mapMutations, mapActions } from 'vuex'\nexport default {\n  name: 'd2-header-size',\n  computed: {\n    ...mapState('d2admin/size', [\n      'value'\n    ])\n  },\n  watch: {\n    // 注意 这里是关键\n    // 因为需要访问 this.$ELEMENT 所以只能在这里使用这种方式\n    value: {\n      handler (val, oldVal) {\n        // https://github.com/d2-projects/d2-admin/pull/129\n        if (oldVal) {\n          // 这个情况在已经加载完页面 用户改变了尺寸时触发\n          this.$ELEMENT.size = val\n          // 由于已经加载过设置 需要清空缓存设置\n          this.pageKeepAliveClean()\n          // 由于已经加载过设置 需要刷新此页面\n          this.$router.replace('/refresh')\n        } else {\n          // 这个情况在刷新页面时触发\n          this.$ELEMENT.size = val\n        }\n      },\n      immediate: true\n    }\n  },\n  methods: {\n    ...mapMutations({\n      pageKeepAliveClean: 'd2admin/page/keepAliveClean'\n    }),\n    ...mapActions({\n      sizeSet: 'd2admin/size/set'\n    }),\n    handleChange (value) {\n      this.sizeSet(value)\n    },\n    iconName (name) {\n      return name === this.value ? 'dot-circle-o' : 'circle-o'\n    }\n  }\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/layouts/HeaderAside/components/header-size","sourcesContent":["<template>\n  <el-dropdown placement=\"bottom\" size=\"small\" @command=\"handleChange\">\n    <el-button class=\"d2-mr btn-text can-hover\" type=\"text\">\n      <d2-icon name=\"font\" style=\"font-size: 16px;\"/>\n    </el-button>\n    <el-dropdown-menu slot=\"dropdown\">\n      <el-dropdown-item command=\"default\">\n        <d2-icon :name=\"iconName('default')\" class=\"d2-mr-5\"/>默认\n      </el-dropdown-item>\n      <el-dropdown-item command=\"medium\">\n        <d2-icon :name=\"iconName('medium')\" class=\"d2-mr-5\"/>中\n      </el-dropdown-item>\n      <el-dropdown-item command=\"small\">\n        <d2-icon :name=\"iconName('small')\" class=\"d2-mr-5\"/>小\n      </el-dropdown-item>\n      <el-dropdown-item command=\"mini\">\n        <d2-icon :name=\"iconName('mini')\" class=\"d2-mr-5\"/>最小\n      </el-dropdown-item>\n    </el-dropdown-menu>\n  </el-dropdown>\n</template>\n\n<script>\nimport { mapState, mapMutations, mapActions } from 'vuex'\nexport default {\n  name: 'd2-header-size',\n  computed: {\n    ...mapState('d2admin/size', [\n      'value'\n    ])\n  },\n  watch: {\n    // 注意 这里是关键\n    // 因为需要访问 this.$ELEMENT 所以只能在这里使用这种方式\n    value: {\n      handler (val, oldVal) {\n        // https://github.com/d2-projects/d2-admin/pull/129\n        if (oldVal) {\n          // 这个情况在已经加载完页面 用户改变了尺寸时触发\n          this.$ELEMENT.size = val\n          // 由于已经加载过设置 需要清空缓存设置\n          this.pageKeepAliveClean()\n          // 由于已经加载过设置 需要刷新此页面\n          this.$router.replace('/refresh')\n        } else {\n          // 这个情况在刷新页面时触发\n          this.$ELEMENT.size = val\n        }\n      },\n      immediate: true\n    }\n  },\n  methods: {\n    ...mapMutations({\n      pageKeepAliveClean: 'd2admin/page/keepAliveClean'\n    }),\n    ...mapActions({\n      sizeSet: 'd2admin/size/set'\n    }),\n    handleChange (value) {\n      this.sizeSet(value)\n    },\n    iconName (name) {\n      return name === this.value ? 'dot-circle-o' : 'circle-o'\n    }\n  }\n}\n</script>\n"]}]}